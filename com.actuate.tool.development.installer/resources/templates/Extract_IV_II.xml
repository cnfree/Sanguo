<?xml version="1.0" encoding="UTF-8"?>
<project name="Extract">

	<!--
         - - - - - - - - - - - - - - - - - 
	          target: unzip_webviewer                      
	         - - - - - - - - - - - - - - - - -
    -->

	<target name="unzip_webviewer">
		
		<exec dir="tool" executable="${runtime}\tool\7z.exe" failonerror="true">
			<arg line="x &quot;${p4.temp}/${ActuateBIRTJavaComponent.file}&quot; -o&quot;${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}&quot; -aoa" />
		</exec>

		<copy file="${p4.replace.path}/${p4.replace.file}" todir="${p4.temp}" />

		<delete dir="${p4.root}/${p4.view}/WEB-INF/lib" />
		<copy todir="${p4.root}/${p4.view}/WEB-INF/lib">
			<fileset dir="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/lib" excludes="**/aciportal.jar" />
		</copy>

		<copy todir="${p4.root}/${p4.view}/WEB-INF/platform">
			<fileset dir="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/platform" />
		</copy>

		<copy todir="${p4.root}/${p4.view}/WEB-INF/reportengines">
			<fileset dir="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/reportengines" />
		</copy>

		<copy todir="${p4.root}/${p4.view}/WEB-INF/repository">
			<fileset dir="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/repository" />
		</copy>

		<copy file="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/ajclicense.xml" todir="${p4.root}/${p4.view}/WEB-INF" />
		<copy file="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/struts-bean.tld" todir="${p4.root}/${p4.view}/WEB-INF" />
		<copy file="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/struts-html.tld" todir="${p4.root}/${p4.view}/WEB-INF" />
		<copy file="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/struts-logic.tld" todir="${p4.root}/${p4.view}/WEB-INF" />
		<copy file="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/struts-nested.tld" todir="${p4.root}/${p4.view}/WEB-INF" />
		<copy file="${p4.temp}/ActuateBirtViewer/${ActuateBIRTJavaComponent.dir}/WEB-INF/struts-tiles.tld" todir="${p4.root}/${p4.view}/WEB-INF" />

	</target>

</project>